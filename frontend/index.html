<script>
    // Fetch food items from the backend API
    async function fetchFoodItems() {
        try {
            const response = await fetch('http://10.212.26.149:3000/food-items');
            const data = await response.json();
            return data;
        } catch (error) {
            console.error('Error fetching food items:', error);
            return [];
        }
    }

    // Function to render food items with checkboxes
    async function renderFoodItems() {
        const foodItems = await fetchFoodItems();
        const foodList = document.getElementById('food-list');
        foodList.innerHTML = '';
        foodItems.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'food-item';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.checked = item.checked;
            checkbox.onchange = () => item.checked = checkbox.checked;

            const label = document.createElement('label');
            label.textContent = item.name;

            itemDiv.appendChild(checkbox);
            itemDiv.appendChild(label);
            foodList.appendChild(itemDiv);
        });
    }

    // Initial rendering of food items
    renderFoodItems();
</script>
